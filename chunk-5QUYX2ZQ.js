import{c as D,e as T,j as F,k as N,l as R,p as V}from"./chunk-VP6JGWTT.js";import{a as u,b as j}from"./chunk-VIHUTXHR.js";import{D as x,H as h,K as d,M as P,N as v,O as y,P as t,Q as o,R as k,S,T as p,U as g,V as r,W as w,X as m,Z as M,fa as E,ga as L,ka as z,n as f,na as A,q as _,r as C,ra as $,ta as I,w as O,y as b,z as c}from"./chunk-NQ56K3WE.js";var G=i=>["/products",i],Y=i=>["/products",i,"edit"],H=(i,n)=>n.id;function q(i,n){i&1&&(t(0,"div",9),k(1,"div",13),t(2,"p"),r(3,"Loading products..."),o()())}function B(i,n){i&1&&(t(0,"div",10)(1,"span"),r(2,"Couldn't fetch data"),o()())}function J(i,n){if(i&1){let e=S();t(0,"div",12)(1,"img",14),p("error",function(l){_(e);let s=g();return C(s.onImageError(l))}),o(),t(2,"div",15)(3,"h3"),r(4),o(),t(5,"p",16),r(6),o(),t(7,"p",17),r(8),o(),t(9,"p",18),r(10),o(),t(11,"div",19)(12,"a",20),r(13," Details "),o(),t(14,"a",21),r(15," Edit "),o(),t(16,"button",22),p("click",function(){let l=_(e).$implicit,s=g();return C(s.deleteProduct(l.id,l.name))}),r(17," Delete "),o()()()()}if(i&2){let e=n.$implicit,a=g();c(),d("src",e.imageUrl,b)("alt",e.name),c(3),w(e.name),c(2),m("Category: ",e.category,""),c(2),m("",e.price," PLN"),c(),d("ngClass",a.getStockClass(e.stock)),c(),m(" Stock: ",e.stock," szt. "),c(2),d("routerLink",M(10,G,e.id)),c(2),d("routerLink",M(12,Y,e.id)),c(2),d("disabled",a.products.isLoading())}}var U=class i{http=f(z);selectedCategory=O("All");products=A(()=>{let n=this.selectedCategory();return n==="All"?u:`${u}?category=${n}`});deleteProduct(n,e){confirm(`Are you shure? You want do delete product: "${e}"?`)&&this.http.delete(`${u}/${n}`).subscribe({next:()=>{console.log(`Product with ID ${n} deleted successfully.`)},error:a=>{console.log(`Error deleting product with ID ${n}:`,a),alert(`Error deleting the product: "${e}".`)}})}getStockClass(n){return n>10?"stock-high":n>0?"stock-medium":"stock-low"}onImageError(n){n.target.src=j}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-product-list"]],decls:22,vars:3,consts:[[1,"product-list-container"],[1,"filters"],[1,"select",3,"ngModelChange","ngModel"],["value","All"],["value","Electronics"],["value","Accessories"],["value","Gaming"],["value","Audio"],[1,"btn","btn-secondary","btn-small",3,"click"],[1,"loading"],[1,"error-message"],[1,"products-grid"],[1,"product-card"],[1,"spinner"],[1,"product-image",3,"error","src","alt"],[1,"product-content"],[1,"category"],[1,"price"],[1,"stock",3,"ngClass"],[1,"actions"],[1,"btn","btn-primary","btn-small",3,"routerLink"],[1,"btn","btn-warning","btn-small",3,"routerLink"],[1,"btn","btn-danger","btn-small",3,"click","disabled"]],template:function(e,a){e&1&&(t(0,"div",0)(1,"div",1)(2,"label"),r(3,"Filter by category:"),o(),t(4,"select",2),p("ngModelChange",function(s){return a.selectedCategory.set(s)}),t(5,"option",3),r(6,"All"),o(),t(7,"option",4),r(8,"Electronics"),o(),t(9,"option",5),r(10,"Accessories"),o(),t(11,"option",6),r(12,"Gaming"),o(),t(13,"option",7),r(14,"Audio"),o()(),t(15,"button",8),p("click",function(){return a.products.reload()}),r(16," Reload "),o()(),h(17,q,4,0,"div",9)(18,B,3,0,"div",10),t(19,"div",11),v(20,J,18,14,"div",12,H),o()()),e&2&&(c(4),d("ngModel",a.selectedCategory()),c(13),P(a.products.isLoading()?17:-1),c(),P(a.products.error()?18:-1),c(2),y(a.products.value()))},dependencies:[L,E,I,$,V,N,R,F,D,T],styles:["@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.product-list-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.product-list-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.product-list-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin:0}.product-list-container[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;margin-bottom:2rem;padding:1rem;background:#f9fafb;border-radius:8px}.product-list-container[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#374151}.product-list-container[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #d1d5db;border-radius:6px;background:#fff;font-size:.875rem}.product-list-container[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.product-list-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{text-align:center;padding:3rem 0}.product-list-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:2rem;height:2rem;border:3px solid #e5e7eb;border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.product-list-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:1.125rem}.product-list-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{background:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:1rem;border-radius:8px;margin-bottom:1.5rem;display:flex;justify-content:space-between;align-items:center}.product-list-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#dc2626;font-size:1.25rem;cursor:pointer;padding:0}.product-list-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#b91c1c}.product-list-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem}.product-list-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 6px -1px #0000001a;overflow:hidden;transition:all .3s ease}.product-list-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a;transform:translateY(-2px)}.product-list-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;background:#f3f4f6}.product-list-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]{padding:1.5rem}.product-list-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 .5rem}.product-list-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#6b7280;margin:0 0 .5rem;font-size:.875rem}.product-list-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#3b82f6;margin:0 0 .5rem}.product-list-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .stock[_ngcontent-%COMP%]{font-size:.875rem;margin:0 0 1.5rem}.product-list-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .stock.stock-high[_ngcontent-%COMP%]{color:#059669}.product-list-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .stock.stock-medium[_ngcontent-%COMP%]{color:#d97706}.product-list-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .stock.stock-low[_ngcontent-%COMP%]{color:#dc2626}.product-list-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.product-list-container[_ngcontent-%COMP%]   .no-products[_ngcontent-%COMP%]{text-align:center;padding:3rem 0}.product-list-container[_ngcontent-%COMP%]   .no-products[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:1.125rem;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.product-list-container[_ngcontent-%COMP%]{padding:1rem}.product-list-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}.product-list-container[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}.product-list-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"],changeDetection:0})};export{U as ProductListComponent};
