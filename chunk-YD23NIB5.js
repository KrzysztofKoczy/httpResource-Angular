import{a as O,b as z}from"./chunk-VIHUTXHR.js";import{D as v,H as f,K as u,M as g,P as n,Q as e,R as x,S as P,T as m,U as p,V as i,W as M,X as l,Z as h,fa as k,ga as w,ka as y,n as s,na as S,oa as E,q as _,qa as D,r as C,ra as I,ta as T,y as b,z as c}from"./chunk-NQ56K3WE.js";var R=r=>["/products",r,"edit"];function $(r,o){r&1&&(n(0,"div",3),x(1,"div",6),n(2,"p"),i(3,"Loading product details..."),e()())}function N(r,o){if(r&1){let t=P();n(0,"div",4)(1,"h2"),i(2,"Error"),e(),n(3,"button",7),m("click",function(){_(t);let d=p();return C(d.goBack())}),i(4," Go back to list "),e()()}}function B(r,o){if(r&1&&(n(0,"div")(1,"pre"),i(2),e()()),r&2){let t=p(2);c(2),M(t.product.value()[0].description)}}function U(r,o){r&1&&(n(0,"p",22),i(1,"No description..."),e())}function A(r,o){if(r&1){let t=P();n(0,"div",5)(1,"div",8)(2,"div",9)(3,"img",10),m("error",function(d){_(t);let V=p();return C(V.onImageError(d))}),e()(),n(4,"div",11)(5,"div",12)(6,"h1"),i(7),e(),n(8,"p",13),i(9),e()(),n(10,"div",14)(11,"div",15)(12,"span",16),i(13),e(),n(14,"span",17),i(15),e()(),n(16,"p",18),i(17),e(),n(18,"p",19)(19,"strong"),i(20,"Stock:"),e(),i(21),e()(),n(22,"div",20)(23,"h2"),i(24,"Product desctription"),e(),n(25,"div",21),f(26,B,3,1,"div")(27,U,2,0,"p",22),e()(),n(28,"div",23)(29,"a",24),i(30," Edit product "),e(),n(31,"button",25),m("click",function(){_(t);let d=p();return C(d.deleteProduct())}),i(32," Delete product "),e()()()()()}if(r&2){let t=p();c(3),u("src",t.product.value()[0].imageUrl,b)("alt",t.product.value()[0].name),c(4),M(t.product.value()[0].name),c(2),l("ID: ",t.product.value()[0].id,""),c(4),l(" ",t.product.value()[0].category," "),c(),u("ngClass",t.getStockStatusClass()),c(),l(" ",t.getStockStatusText()," "),c(2),l(" ",t.product.value()[0].price," PLN "),c(4),l(" ",t.product.value()[0].stock," items "),c(5),g(t.product.value()[0].description?26:27),c(3),u("routerLink",h(12,R,t.productId)),c(2),u("disabled",t.product.isLoading())}}var L=class r{router=s(D);http=s(y);route=s(E);productId=this.route.snapshot.paramMap.get("id");product=S(()=>`${O}?id=${this.productId}`,{defaultValue:[]});goBack(){this.router.navigate(["/products"])}deleteProduct(){let o=this.product.value()[0].id,t=this.product.value()[0].name;confirm(`Are you sure you want to remove the product "${t}"?`)&&this.http.delete(`${O}/${o}`).subscribe({next:()=>{console.log(`Product with ID ${o} deleted successfully.`),this.router.navigate(["/products"])},error:a=>{console.error(`Error deleting product with ID ${o}:`,a),alert(`Error deleting the product: "${t}".`)}})}getStockStatusClass(){let o=this.product.value()[0].stock;return o>10?"badge-success":o>0?"badge-warning":"badge-danger"}getStockStatusText(){let o=this.product.value()[0].stock;return o>10?"Dost\u0119pny":o>0?"Ostatnie sztuki":"Wyprzedany"}onImageError(o){o.target.src=z}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=v({type:r,selectors:[["app-product-detail"]],decls:7,vars:3,consts:[[1,"product-detail-container"],[1,"navigation"],[1,"btn","btn-secondary",3,"click"],[1,"loading"],[1,"error-container"],[1,"product-detail"],[1,"spinner"],[1,"btn","btn-danger",3,"click"],[1,"product-layout"],[1,"product-image-section"],[1,"product-image",3,"error","src","alt"],[1,"product-info"],[1,"product-header"],[1,"product-id"],[1,"product-meta"],[1,"badges"],[1,"badge","badge-category"],[1,"badge",3,"ngClass"],[1,"price"],[1,"stock-info"],[1,"product-description"],[1,"description-content"],[1,"loading-text"],[1,"actions"],[1,"btn","btn-warning",3,"routerLink"],[1,"btn","btn-danger",3,"click","disabled"]],template:function(t,a){t&1&&(n(0,"div",0)(1,"div",1)(2,"button",2),m("click",function(){return a.goBack()}),i(3," \u2190 Back to listy "),e()(),f(4,$,4,0,"div",3)(5,N,5,0,"div",4)(6,A,33,14,"div",5),e()),t&2&&(c(4),g(a.product.isLoading()?4:-1),c(),g(a.product.error()?5:-1),c(),g(a.product.value()[0]?6:-1))},dependencies:[w,k,T,I],styles:[".product-detail-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.product-detail-container[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{margin-bottom:2rem}.product-detail-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{text-align:center;padding:3rem 0}.product-detail-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:3rem;height:3rem;border:4px solid #e5e7eb;border-top:4px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.product-detail-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:1.125rem}.product-detail-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{background:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:2rem;border-radius:12px;text-align:center}.product-detail-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin:0 0 1rem}.product-detail-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1.5rem}.product-detail-container[_ngcontent-%COMP%]   .product-detail[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 15px -3px #0000001a;overflow:hidden}.product-detail-container[_ngcontent-%COMP%]   .product-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:0}@media (max-width: 768px){.product-detail-container[_ngcontent-%COMP%]   .product-layout[_ngcontent-%COMP%]{grid-template-columns:1fr}}.product-detail-container[_ngcontent-%COMP%]   .product-image-section[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;background:#f3f4f6}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{padding:2rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-header[_ngcontent-%COMP%]{margin-bottom:2rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin:0 0 .5rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-header[_ngcontent-%COMP%]   .product-id[_ngcontent-%COMP%]{color:#6b7280;font-size:1.125rem;margin:0}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]{margin-bottom:2rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem;flex-wrap:wrap}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#3b82f6;margin-bottom:1rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]{color:#6b7280;margin:0}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{margin-bottom:2rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 1rem}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   .description-content[_ngcontent-%COMP%]{background:#f9fafb;padding:1.5rem;border-radius:8px}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   .description-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{white-space:pre-wrap;color:#374151;font-family:inherit;margin:0 0 1rem;line-height:1.6}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   .description-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{color:#6b7280;font-style:italic;margin:0}.product-detail-container[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.badge[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:9999px;font-size:.875rem;font-weight:500}.badge.badge-category[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.badge.badge-success[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.badge.badge-warning[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.badge.badge-danger[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"],changeDetection:0})};export{L as ProductDetailComponent};
